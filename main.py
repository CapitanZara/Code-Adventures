def start_quest():
    print("Ты – Искатель, один из тех, кто путешествует по виртуальному миру, помогая другим исправлять баги и уничтожать вирусы.")
    print("Сегодня тебе предстоит выбрать своё первое задание.\n")

    print("1. Исследовать заражённый лес, где обитают опасные вирусы, чтобы очистить его и получить редкие ресурсы.")
    print("2. Помочь горожанину, чей код начал сбоить и требует срочной починки, иначе он потеряет сознание.")
    choice1 = input("Выбери задание (1 или 2): ")

    if choice1 == "1":
        forest_quest()
    elif choice1 == "2":
        citizen_quest()
    else:
        print("Некорректный выбор, попробуй снова.")
        start_quest()

def forest_quest():
    print("\nТы отправляешься в лес, где встречаешь опасные вирусы.")
    print("У тебя есть два пути:")
    print("1. Путь через густые заросли, где больше ресурсов, но и вирусов тоже больше.")
    print("2. Путь через заброшенную деревню, где может быть меньше вирусов, но и ресурсов тоже меньше.")
    choice2 = input("Выбери путь (1 или 2): ")

    if choice2 == "1":
        thick_brush()
    elif choice2 == "2":
        abandoned_village()
    else:
        print("Некорректный выбор, попробуй снова.")
        forest_quest()

def thick_brush():
    print("\nТы пробираешься через заросли и находишь множество ценных ресурсов, но вдруг на тебя нападает мощный вирус.")
    print("У тебя есть два варианта:")
    print("1. Биться до конца, используя все свои навыки.")
    print("2. Попытаться сбежать, бросив часть ресурсов.")
    choice3 = input("Выбери действие (1 или 2): ")

    if choice3 == "1":
        ending_1()
    elif choice3 == "2":
        ending_2()
    else:
        print("Некорректный выбор, попробуй снова.")
        thick_brush()

def abandoned_village():
    print("\nВ деревне ты находишь немного ресурсов, но вдруг замечаешь, что один из зданий заражён багом.")
    print("У тебя есть два варианта:")
    print("1. Попытаться починить баг, рискуя привлечь внимание вирусов.")
    print("2. Игнорировать баг и продолжить путь.")
    choice4 = input("Выбери действие (1 или 2): ")

    if choice4 == "1":
        ending_3()
    elif choice4 == "2":
        ending_4()
    else:
        print("Некорректный выбор, попробуй снова.")
        abandoned_village()

def citizen_quest():
    print("\nТы приходишь к горожанину и обнаруживаешь, что его код повреждён.")
    print("У тебя есть два пути:")
    print("1. Использовать мощный, но нестабильный инструмент для починки.")
    print("2. Использовать проверенный, но медленный инструмент.")
    choice2 = input("Выбери инструмент (1 или 2): ")

    if choice2 == "1":
        powerful_tool()
    elif choice2 == "2":
        slow_tool()
    else:
        print("Некорректный выбор, попробуй снова.")
        citizen_quest()

def powerful_tool():
    print("\nТы используешь мощный инструмент и быстро исправляешь код, но вдруг появляются вирусы, привлечённые активностью.")
    print("У тебя есть два варианта:")
    print("1. Биться с вирусами, защищая горожанина.")
    print("2. Бросить горожанина и сбежать.")
    choice3 = input("Выбери действие (1 или 2): ")

    if choice3 == "1":
        ending_5()
    elif choice3 == "2":
        ending_6()
    else:
        print("Некорректный выбор, попробуй снова.")
        powerful_tool()

def slow_tool():
    print("\nИспользуя медленный инструмент, ты долго работаешь, но всё проходит без происшествий.")
    print("Вдруг ты замечаешь странный баг в коде горожанина.")
    print("У тебя есть два варианта:")
    print("1. Игнорировать баг и завершить работу.")
    print("2. Попытаться исправить баг, рискуя создать новые проблемы.")
    choice4 = input("Выбери действие (1 или 2): ")

    if choice4 == "1":
        ending_7()
    elif choice4 == "2":
        ending_8()
    else:
        print("Некорректный выбор, попробуй снова.")
        slow_tool()

def ending_1():
    print("\nТы побеждаешь вирус и получаешь ценные ресурсы и мощную награду, увеличивающую твою серверную мощность.")
    print("Ты становишься более опытным Искателем.")

def ending_2():
    print("\nТы успеваешь сбежать, но теряешь большую часть ресурсов.")
    print("Ты возвращаешься на базу, осознавая, что иногда осторожность важнее, чем риск.")

def ending_3():
    print("\nТы исправляешь баг в здании и находишь спрятанный в нём редкий артефакт.")
    print("Твоя репутация как Искателя растёт, и ты получаешь больше заказов.")

def ending_4():
    print("\nТы продолжаешь путь, но вскоре находишь заблокированный выход из деревни.")
    print("Ты теряешь много времени, пытаясь выбраться, и возвращаешься с минимальными ресурсами.")

def ending_5():
    print("\nТы защищаешь горожанина и побеждаешь вирусы.")
    print("Горожанин дарит тебе ценный предмет, который значительно увеличивает твою мощность.")

def ending_6():
    print("\nТы бросаешь горожанина и сбегаешь.")
    print("Вернувшись, ты чувствуешь угрызения совести и теряешь часть своей репутации.")

def ending_7():
    print("\nТы игнорируешь баг и завершаешь работу.")
    print("Горожанин благодарен, но через некоторое время ты узнаёшь, что баг привёл к серьёзным проблемам.")

def ending_8():
    print("\nТы исправляешь баг и находишь в коде горожанина скрытое послание.")
    print("Это послание приводит тебя к новому, более сложному заданию, которое может изменить всё.")

# Запуск квеста
start_quest()
